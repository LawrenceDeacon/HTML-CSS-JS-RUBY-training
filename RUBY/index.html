<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruby</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
</head>
<body>
    <a href="../index.html">Index</a>
    <h1>Ruby Notes</h1>
    <p>Notes on Ruby</p>
    <p>Files in ruby named file.rb</p>
    <p><span>Everything is an OBJECT!!</span></p>
    <div>
        <h2>Data types</h2>
        <ul>
            <li>Numbers methods
                <ul>
                    <li>3.to_f = to float</li>
                    <li>3.56.to_i = to INT</li>
                    <li>2.even? = true if even</li>
                    <li>5.odd? = true if odd</li>
                    <li>age += 4 - adds 4 to the variable age, and sets age to new result
                        also -=, *=, /=
                    </li>
                </ul>
            </li>
            <li>Strings methods
                <ul>
                    <li>"string".concat("Another String"), can also use "String" &lt&lt "Another String"
                        also "String" + "Another String"
                    </li>
                    <li>substrings = "Hello"[0] = "H", "Hello"[0, 4] = "Hell"</li>
                    <li>Escape charactors
                        <ul>
                            <li>\ is the escape char for a backslash use \\</li>
                            <li>\r - carriage return</li>
                            <li>\n - new line</li>
                            <li>\s - space</li>
                            <li>\t - tab</li>
                        </ul>
                    </li>
                    <li>Interpolation, ie variables in strings #{variable}. <span>Must use double quotes!</span></li>
                    <li>String Methods
                        <ul>
                            <li>.capitalize</li>
                            <li>.to_s - toString</li>
                            <li>.include?("foo") - does string include foo </li>
                            <li>.upcase + .downcase</li>
                            <li>.empty? , returns true if empty</li>
                            <li>.reverse</li>
                            <li>.split("") - puts into an array, can comma seperate with .split(",")</li>
                            <li>.gsub("x", "y") - substitutes all x's for y's, .sub for just the first x found</li>
                            <li>.insert(-1, "Added String") - adds "Added String at the end of original string"</li>
                            <li>.delete("x") - deletes all x's in string</li>
                            <li>"!".prepend("String") - returns "String!"</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>Symbols are created with :mySymbol effectivly pointers to location in memory
                Variables are a new location each time called
            </li>
            <li>Booleans - true / false</li>
            <li>nil - ie undefined</li>
        </ul>
    </div>
    <div>
        <h2>Variables</h2>
        <ul>
            <li>name = "Value"</li>
            <li>variable names use snake_case</li>
            <li>Constants should be ALL CAPS!</li>
        </ul>
    </div>
    <div>
        <h2>Input + output</h2>
        <h3>Inputs</h3>
        <ul>
            <li>.gets = returns user input, always with \n</li>
            <li>.gets.chomp - returns .gets without \n</li>
        </ul>
        <h3>Outputs</h3>
        <ul>
            <li>print() - keeps on same line</li>
            <li>puts() - appends new line</li>
            <li>p() - Better for debuggin</li>
        </ul>
    </div>
    <div>
        <h2>if/else + conditionals</h2>
        <h3>if/else & Case (aka switch)</h3>
        <ul>
            <li>
                <pre>
                    if 1&lt2
                        return true
                    end
                </pre>
            </li>
            <li>
                <pre>
                    if 1&lt2
                        return true
                    else
                        return false
                    end
                </pre>
            </li>
            <li>
                <pre>
                    case result
                    when 1
                        "Answer = 1"
                    when 2
                        "Answer = 2"
                    else
                        "Default answer"
                    end
                </pre>
            </li>
            <li>unless/else = if but opposite </li>

        </ul>
        <h3>Conditionals</h3>
        <p>Usual conditionals ie != =&gt etc plus the ones below</p>
        <ul>
            <li>5.eql?(5) = true , <span>Be careful with strings, held in different memory locations, 
                ie different ID's</span>
            </li>
            <li>Spaceship operator  5 &lt=&gt 10 
                <ul>
                    <li>-1 if left &lt right</li>
                    <li>0 if both are equal</li>
                    <li>1 if left is &gt right</li>
                </ul>
            </li>
        </ul>
    </div>
    <div>
        <h2>Loops</h2>
        <ul>
            <li>
                <pre>
                    loop do
                        i += 1
                        break if i == 10
                    end
                </pre>
            </li>
            <li>While loop 
                <pre>
                    i=0
                    while i &lt 10 do
                        i += 1
                    end
                </pre>
            </li>
            <li>Until loop = opposire while loop</li>
            <li>For loop, <span>0..5 is a range ie 0 - 5</span>
                <pre>
                    for i in 0..5
                        puts "#{i} people around"
                    end
                </pre>
            </li>
            <li>times loop 
                <pre>
                    5.times do
                        //code
                    end
                </pre>
            </li>
            <li>Upto/Downto loops , <span>|num| is an argument</span>
                <pre>
                    5.upto(10) {|num| print "#{num}"} 
                </pre>
            </li>
        </ul>
    </div>
    <div>
        <h2>Arrays</h2>
        <p>Lots of array methods, check online! Common ones below</p>
        <ul>
            <li>.empty?</li>
            <li>.length</li>
            <li>.reverse</li>
            <li>.include?("Item")</li>
            <li>.join, or .join(",") = comma seperated etc</li>
            <li>array.each {|item| puts("#{item}")} - loops through array</li>
            <li>nested arrays = array[0][5] - sixth item in first array</li>
        </ul>
    </div>
    <div>
        <h2>Hashes AKA Objects</h2>
        <p>Key value pairs, best practise, use :symbols for keys</p>
        <ul>
            <li>
                <pre>
                    hash = {
                        :key1 => "Value 1",
                        :key2 => "Value 2",
                    }
                </pre>
            </li>
            <li>Also create with hash = {}</li>
            <li>dot notation to get values</li>
            <li>bracket notations also - hash[:key1] = "Value 1"</li>
            <li>hash.keys - returns array of all keys</li>
            <li>hash.values - returns array of all values</li>
            <li>hash1.merge(hash2) - merges hashes</li>
        </ul>
    </div>
    <div>
        <h2>Methods</h2>
        <p>Methods written as follows, use snake_case</p>
        <ul>
            <li>
                <pre>
                    def my_function (parameter1, parameter2)
                        Code block
                    end
                </pre>
                <pre>
                    def my_function do |parameter1, parameter1|
                        Code Block
                    end
                </pre>
            </li>
            <li>Can use function my_function(){} like a JS method, or do....end</li>
            <li>Default parameter = name = "Lawrence"</li>
            <li>Ruby will return the last expression without the return keyword!</li>
            <li>Can chain methods</li>
            <li>Predicate methods - return booleans, ie 5.isodd?</li>
            <li>Bang methods - Overwrites original value ie name.downcase!</li>
        </ul>
        <h3>Enumerables</h3>
        <p>Pre made methods, full list online</p>
        <ul>
            <li>array.select{|item| item == "item"} - returns just the item, != for all but the item</li>
            <li>.reject - opposite of .select</li>
            <li>array.each{|item| prints("List of each in array #{item}")} <span>Returns original array</span></li>
            <li>.each_with_index - same as each but with index, code block = {|item,index| prints("#{index}")}</li>
            <li>.map - same as each but returns new array</li>
            <li>.reduce - adds each item to accumulator ie array.reduce {|sum, num| sum += num} 
                sum is the accumulator</li>
            <li>Can use bang method, ie .map!</li>
        </ul>
        <h3>Predicate Enumerables</h3>
        <ul>
            <li>array.include?('item') - returns true / false</li>
            <li>array.any? {|num| num &gt 500} - if any item larger than 500 returns true/false </li>
            <li>.all? - all must be true to return true</li>
            <li>.none? - opposite of .all?</li>
        </ul>
    </div>
    <div>
        <h2>Classes</h2>
        <p>Class names capitilize, and camel case, ie MyClass</p>
        <ul>
            <li>
                <pre>
                    class Person
                        def initialize(name, age)
                            @name = name
                            @age = age
                        end
                    end
                </pre>
            </li>
            <li>initialize method at start to run first thing, ie constructor, set default parameters etc</li>
            <li>@name - instance variable, for each time the class is called</li>
            <li>To create a new Person
                <pre>
                    me = Person.new("Lawrence")
                </pre>
                .new runs initialize method in the class
            </li>
            <li>Variables in Classes
                <ul>
                    <li>@name = Instance Variable - as used above, only availible to this instance of the class</li>
                    <li>$name = Global variables - Avalible Everywhere</li>
                    <li>local variables, only availible in the  method where created</li>
                    <li>@@name = class variables - avalible within the class, not just an instance</li>
                </ul>
            </li>
            <li>Inheritance
                <ul>
                    <li>Syntax is
                        <pre>
                            class DerivedClass &lt BaseClass
                                Code Block
                            end
                        </pre>
                    </li>
                    <li>Derived class = subclass = child</li>
                    <li>base class = super class = parent</li>
                    <li>Same name method in DerivedClass will overwrite anything inherited of same name</li>
                    <li>super, or super(argument) changes method to parent class / super class methods instead</li>
                    <li>Can only have 1 superclass ever!</li>
                    <li>Can write a class like 
                        <pre>
                            class Person &lt BaseClass end
                        </pre>
                    </li>
                    <li>Class method prefixed by class name, ie Person.hello()</li>
                    <li>Methods are public by default!</li>
                    <li>put public before methods you wish to be accessable outside</li>
                    <li>Put private before methods that can only be accessed in the class</li>
                    <li>attr_reader :name, allows reading of @name in a class</li>
                    <li>attr_writer :name, allows writting of @name in a class</li>
                    <li>attr_accessor :name, allows reading and writting of @name</li>
                </ul>
            </li>
        </ul>
    </div>
    <div>
        <h2>Modules</h2>
        <p>Much like a class, but cannot make instances, and cannot have subclasses</p>
        <p>Used for storage only! Use constants!</p>
        <ul>
            <li>
                <pre>
                    module MyModule
                        Code
                    end
                </pre>
            </li>
            <li>namespacing = where a certain variable is.</li>
            <li>Use scope resolution operator to point code to correct constants in methods
                ie Math::PI tells code to look in Math module, and grab the PI constant
            </li>
            <li>require 'NameOfModule' - To use a preset module put at top of code</li>
            <li>include ModuleName - in a class to allow access to that module</li>
            <li>mixin - is where you include a module into a class. Can use same module for multiple classes</li>
            <li>extends - is like includes but makes the module avalible at a class level, not just instance </li>
            
        </ul>
    </div>
    <div>
        <h2>Debugging</h2>
        <ul>
            <li>Stack trace prints each line before crash</li>
            <li>pry-byebug for debugging 
                <ul>
                    <li>Install with <span>gem install pry-byebug</span></li>
                    <li>Top of file type <span>require'pry-byebug'</span></li>
                    <li>At any point in program type <span>binding.pry</span>, creates a breakpoint</li>                    
                    <li>in irb next to step-over</li>                 
                </ul>
            </li>
        </ul>
    </div>
</body>
</html>