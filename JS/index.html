<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Notes</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>

<body>
    <a href="../index.html">Index</a>
    <h1>Javascript Notes</h1>
    <p>See console.log() for some information</p>
    <p><span>console.table() displays a nice table for arrays etc</span></p>
    <div>
        <h2>Variables</h2>
        <ul>
            <li>Use let or const to define variables</li>
            <li>let name; creates an empty variable</li>
            <li>let name = "Default"; creates a string variable</li>
            <li>Can use numbers, booleans, [] arrays, {} objects, "" strings and more</li>
        </ul>
    </div>
    <div>
        <h2>Functions</h2>
        <ul>
            <li>
                <pre>
                    function nameOfFunction(argument1, argument 2){
                        let code = "Enter code to run in here"
                        let backtick = `Can use arguments here like ${argument1}` to imput variables directly into a string
                    }
                </pre>

            </li>
            <li>Default function argument use function(name = "Lawrence"){},
                <span>will use default Lawrence if nothing passed</span>
            </li>
            <li>Can use IIFE (Immediatley Invoked Function Expressions), <span>function calls itself</span>
                <ul>
                    <li>
                        <pre>
                            (function(a){
                                console.log(`Display this message ${a}`);
                            }("Hello"));
                        </pre>
                    </li>
                </ul>
            </li>
            <li>Anonymous Function can be used for one line Functions
                <ul>
                    <li>
                        <pre>
                            let secondName = (x) => {console.log(`${x} is my argument`)};
                            secondName("Deacon");
                        </pre>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div>
        <h2>Arrays</h2>
        <ul>
            <li>Arrays created with [] for example ley newArray = [];</li>
            <li>Arrays 0 indexed, first item is array[0]</li>
            <li>Lots of methods for Arrays, some listed below
                <ul>
                    <li>Push - Adds element to the end of an array,
                        <span>array.push("New Item");</span>
                    </li>
                    <li>Pop - removes last item <span>array.pop();</span> </li>
                    <li>shift - removes first element and shifts the rest left one
                        <span>array.shift();</span>
                    </li>
                    <li>unshift - adds new item to first element
                        <span>array.unshift("New Item");</span>
                    </li>
                    <li>Filter - add a function which returns true, and only those true will be left behind</li>
                    <li>Map - Returns changed array of same length</li>
                    <li>Sort - compare two items in array, and if statement, 
                        then return 1 or -1 to move up and down the list. Iterates over all items in array
                    </li>
                    <li>Reduce - instead of looping through, reduce gives running total of a property</li>
                    <li>Some - returns true if at least one item in array = true</li>
                    <li>Every - Same as sort, but all must be true to be true</li>
                    <li>Find - Same as filter but only returns first match it finds</li>
                    <li>findIndex - same as find, but can return index</li>
                </ul>
            </li>
            <li>Array methods listed
                <a href="https://www.w3schools.com/jsref/jsref_obj_array.asp">Here</a>
            </li>
        </ul>
    </div>
    <div>
        <h2>Objects</h2>
        <ul>
            <li>To create an object use one of the following
                <ul>
                    <li>let name = {}; for an empty object</li>
                    <li><span>Note the comma to seperate</span>
                        <pre>
                            let name = {
                                firstName: "Lawrence",
                                lastName: "Deacon"
                            };
                        </pre>
                    </li>
                </ul>
            </li>
            <li>Use dot notation to change for example name.firstName = "Michael"</li>
            <li>To read a value use dot notation</li>
            <li>delete name.firstName to delete a property</li>
            <li>can use [keyName] to reference a variable,
                <span>[] can write simple code in brackets, ie key = [variable + 10]</span>
            </li>
            <li>No restriction on porperty names, ie let, function etc</li>
            <li>non-existant property = undefined</li>
            <li>"firstName" in name = true if it exists </li>
            <li>
                <pre>
                    for (key in object){
                        code for each key in object
                    }
                </pre>
            </li>
            <li>Object values can be anything, arrays / functions / other objects!</li>
        </ul>
    </div>
    <div>
        <h2>Errors</h2>
        <p>see dev console in browser for errors, usually F12</p>
        <ul>
            <li>Reference Error - variable not defined, accessible (ie Scope), spelt right</li>
            <li>Syntax Error - Code not written correctly</li>
            <li>Type Error - Incompatibility issues with Argument//Operand</li>
        </ul>
    </div>
    <div>
        <h2>DOM manipulation</h2>
        <p>Ensure you either run the script at the bottom of the HTML file, otherwise the
            DOM will not have loaded the elements needed.
        </p>
        <p>Or run in the &lthead&gt tags and put defer
            as seen here, &ltscript src="script.js" defer&gt&ltscript&gt</p>
        <div>
            <h3>Selectors</h3>
            <ul>
                <li>Selectors work the same as CSS selectors ie .class and #id</li>
                <li>Can also use parent child relations, ie lastElementChild</li>

            </ul>
        </div>
        <div>
            <h3>Query Selectors</h3>
            <ul>
                <li>element.querySelector(selector) - returns the first match found</li>
                <li>element.querySelectorAll(selectors) - returns a nodelist containing
                    references to all matches
                </li>
                <li>Nodelist looks like an Array but is missing some array methods</li>
            </ul>
        </div>
        <div>
            <h3>Create and Append</h3>
            <p><span>Create new element before appending</span></p>
            <ul>
                <li>let div = document.createElement('div'); - creates a div</li>
                <li>div.appendChild('p') - adds a p to the end of div</li>
                <li>div.insertBefore('p', #id) - adds p before #id</li>
                <li>div.removeChild('p') - removes p from div</li>
            </ul>
        </div>
        <div>
            <h3>Attributes and Styling</h3>
            <ul>
                <li>Can style inline with div.style.color = "blue",
                    <span>hypenated attributes ie font-size does not work.
                        Use fontSize, ['font-size'] or "font-size: 12px"</span>
                </li>
                <li>div.setAttribute('id', 'theDiv') - updates the targets ID to theDiv</li>
                <li>div.classList.add/remove/toggle - use to manipulate the class' of an element</li>
                <li>div.textContent = 'Hello World!' - Add text to elements</li>
                <li>div.innerHTML = '&ltspan&gtHello World!&lt/span&gt' - add html,
                    <span>Security Risk, use sparingly!</span>
                </li>
            </ul>
        </div>
        <div>
            <h3>Events</h3>
            <ul>
                <li>various ways to listen to events
                    <ul>
                        <li>in the HTML, &ltbutton onClick = alert('An Alert')&gtClick me&lt/button&gt</li>
                        <li>in javascript using onClick for that element
                            <pre>
                                const btn = document.querySelector('#btn');
                                btn.onClick = () => alert("Hello World!");
                            </pre>
                        </li>
                        <li>Setting an event listener <span>Best Way! Can add multiple events</span>
                            <pre>
                                const btn = dcument.querySelector('#btn');
                                btn.addEventListener('click', (e)=> {
                                    alert("Hello World!");
                                });
                            </pre>
                            <span>(e) in the function above is a callback, and shows lots of useful information,
                                ie using e.target will show which button was pressed</span>
                        </li>
                    </ul>
                </li>
                <li>All of the above can use named functions instead of onClick or click</li>
                <li>Add multiple listeners to child elements
                    <pre>
                        // Returns a nodelist
                        const buttons = document.querySelectorAll('button');
                        // Loops through each item in the nodelist and executs the code block
                        buttons.forEach((button) => {
                            button.addEventListener('click', () => {
                                alert(button.id);
                            });
                        })
                    </pre>
                </li>
                <li>Bubbling - on event like click, you click on the button, and the div it is in
                    and the body, and the HTML tag etc
                </li>
                <li>To stop bubbling use e.stopPropagation() and higher events will not trigger</li>
                <li>addEventListener has 3 arguments in it's methods
                    <ul>
                        <li>The event, ie 'click'</li>
                        <li>The action, ie the function to do something after clicking</li>
                        <li>Options such as capture and once, for example
                            <pre>
                                div.addEventListener('click', () => {
                                    console.log("This is my action");
                                }, {
                                    //<span>this is the Options Object!</span>
                                    capture: true, //defaults to false, on true will stop bubbling
                                    once: true //Will only allow a button for example to be pressed once ever!
                                })
                            </pre>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</body>

</html>